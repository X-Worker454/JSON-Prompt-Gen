{
  "version": 3,
  "sources": ["../../vite-plugin-pwa/dist/index.js", "../../tinyglobby/dist/index.mjs", "../../fdir/dist/index.mjs"],
  "sourcesContent": ["import {\n  logWorkboxResult,\n  normalizePath,\n  resolveBasePath,\n  slash\n} from \"./chunk-G4TAN34B.js\";\nimport {\n  DEV_PWA_ASSETS_NAME,\n  DEV_READY_NAME,\n  DEV_REGISTER_SW_NAME,\n  DEV_SW_NAME,\n  DEV_SW_VIRTUAL,\n  FILE_SW_REGISTER,\n  PWA_ASSETS_HEAD_VIRTUAL,\n  PWA_ASSETS_ICONS_VIRTUAL,\n  PWA_INFO_VIRTUAL,\n  RESOLVED_DEV_SW_VIRTUAL,\n  RESOLVED_PWA_ASSETS_HEAD_VIRTUAL,\n  RESOLVED_PWA_ASSETS_ICONS_VIRTUAL,\n  RESOLVED_PWA_INFO_VIRTUAL,\n  VIRTUAL_MODULES,\n  VIRTUAL_MODULES_MAP,\n  VIRTUAL_MODULES_RESOLVE_PREFIX,\n  defaultInjectManifestVitePlugins,\n  extractIcons,\n  generateRegisterDevSW,\n  generateRegisterSW,\n  generateSWHMR,\n  generateSimpleSWRegister,\n  generateWebManifest,\n  injectServiceWorker\n} from \"./chunk-I2Z7IWCN.js\";\nimport {\n  cyan,\n  yellow\n} from \"./chunk-LKBIOQSP.js\";\n\n// src/api.ts\nimport { existsSync } from \"node:fs\";\nimport { resolve as resolve2 } from \"node:path\";\n\n// src/assets.ts\nimport crypto from \"node:crypto\";\nimport fs from \"node:fs\";\nimport { resolve as resolveFs } from \"node:path\";\nimport { glob } from \"tinyglobby\";\nfunction buildManifestEntry(publicDir, url) {\n  return new Promise((resolve6, reject) => {\n    const cHash = crypto.createHash(\"MD5\");\n    const stream = fs.createReadStream(resolveFs(publicDir, url));\n    stream.on(\"error\", (err) => {\n      reject(err);\n    });\n    stream.on(\"data\", (chunk) => {\n      cHash.update(chunk);\n    });\n    stream.on(\"end\", () => {\n      return resolve6({\n        url,\n        revision: `${cHash.digest(\"hex\")}`\n      });\n    });\n  });\n}\nfunction lookupAdditionalManifestEntries(useInjectManifest, injectManifest, workbox) {\n  return useInjectManifest ? injectManifest.additionalManifestEntries || [] : workbox.additionalManifestEntries || [];\n}\nfunction normalizeIconPath(path) {\n  return path.startsWith(\"/\") ? path.substring(1) : path;\n}\nfunction includeIcons(icons, globs) {\n  Object.keys(icons).forEach((key) => {\n    const icon = icons[key];\n    const src = normalizeIconPath(icon.src);\n    if (!globs.includes(src))\n      globs.push(src);\n  });\n}\nasync function configureStaticAssets(resolvedVitePWAOptions, viteConfig) {\n  const {\n    manifest,\n    strategies,\n    injectManifest,\n    workbox,\n    includeAssets,\n    includeManifestIcons,\n    manifestFilename\n  } = resolvedVitePWAOptions;\n  const useInjectManifest = strategies === \"injectManifest\";\n  const { publicDir } = viteConfig;\n  const globs = [];\n  const manifestEntries = lookupAdditionalManifestEntries(\n    useInjectManifest,\n    injectManifest,\n    workbox\n  );\n  if (includeAssets) {\n    if (Array.isArray(includeAssets))\n      globs.push(...includeAssets.map(normalizeIconPath));\n    else\n      globs.push(normalizeIconPath(includeAssets));\n  }\n  if (includeManifestIcons && manifest) {\n    manifest.icons && includeIcons(manifest.icons, globs);\n    manifest.shortcuts && manifest.shortcuts.forEach((s) => {\n      s.icons && includeIcons(s.icons, globs);\n    });\n  }\n  if (globs.length > 0) {\n    let assets = await glob({\n      patterns: globs,\n      cwd: publicDir,\n      expandDirectories: false,\n      onlyFiles: true\n    });\n    if (manifestEntries.length > 0) {\n      const included = manifestEntries.map((me) => {\n        if (typeof me === \"string\")\n          return me;\n        else\n          return me.url;\n      });\n      assets = assets.filter((a) => !included.includes(a));\n    }\n    const assetsEntries = await Promise.all(assets.map((a) => {\n      return buildManifestEntry(publicDir, a);\n    }));\n    manifestEntries.push(...assetsEntries);\n  }\n  if (manifest) {\n    const cHash = crypto.createHash(\"MD5\");\n    cHash.update(generateWebManifestFile(resolvedVitePWAOptions));\n    manifestEntries.push({\n      url: manifestFilename,\n      revision: `${cHash.digest(\"hex\")}`\n    });\n  }\n  if (manifestEntries.length > 0) {\n    if (useInjectManifest)\n      injectManifest.additionalManifestEntries = manifestEntries;\n    else\n      workbox.additionalManifestEntries = manifestEntries;\n  }\n}\nfunction generateWebManifestFile(options) {\n  return `${JSON.stringify(options.manifest, null, options.minify ? 0 : 2)}\n`;\n}\n\n// src/modules.ts\nimport { promises as fs2 } from \"node:fs\";\nimport { createRequire } from \"node:module\";\nimport { dirname, resolve } from \"node:path\";\nimport { fileURLToPath } from \"node:url\";\nvar _dirname = typeof __dirname !== \"undefined\" ? __dirname : dirname(fileURLToPath(import.meta.url));\nvar require2 = createRequire(_dirname);\nasync function loadWorkboxBuild() {\n  try {\n    const workbox = await import(\"workbox-build\");\n    return workbox.default ?? workbox;\n  } catch {\n    return require2(\"workbox-build\");\n  }\n}\nasync function generateRegisterSW2(options, mode, source = \"register\") {\n  const sw = options.buildBase + options.filename;\n  const scope = options.scope;\n  const content = await fs2.readFile(resolve(_dirname, `client/${mode}/${source}.js`), \"utf-8\");\n  return content.replace(/__SW__/g, sw).replace(\"__SCOPE__\", scope).replace(\"__SW_AUTO_UPDATE__\", `${options.registerType === \"autoUpdate\"}`).replace(\"__SW_SELF_DESTROYING__\", `${options.selfDestroying}`).replace(\"__TYPE__\", `${options.devOptions.enabled ? options.devOptions.type : \"classic\"}`);\n}\nasync function generateServiceWorker(version, options, viteOptions) {\n  if (options.selfDestroying) {\n    const selfDestroyingSW = `\nself.addEventListener('install', (e) => {\n  self.skipWaiting();\n});\nself.addEventListener('activate', (e) => {\n  self.registration.unregister()\n    .then(() => self.clients.matchAll())\n    .then((clients) => {\n      clients.forEach((client) => {\n        if (client instanceof WindowClient)\n          client.navigate(client.url);\n      });\n      return Promise.resolve();\n    })\n    .then(() => {\n      self.caches.keys().then((cacheNames) => {\n        Promise.all(\n          cacheNames.map((cacheName) => {\n            return self.caches.delete(cacheName);\n          }),\n        );\n      })\n    });\n});\n    `;\n    await fs2.writeFile(options.swDest.replace(/\\\\/g, \"/\"), selfDestroyingSW, { encoding: \"utf8\" });\n    return {\n      count: 1,\n      size: selfDestroyingSW.length,\n      warnings: [],\n      filePaths: [options.filename]\n    };\n  }\n  await options.integration?.beforeBuildServiceWorker?.(options);\n  const { generateSW } = await loadWorkboxBuild();\n  const buildResult = await generateSW(options.workbox);\n  logWorkboxResult(\n    version,\n    options.throwMaximumFileSizeToCacheInBytes,\n    \"generateSW\",\n    buildResult,\n    viteOptions\n  );\n  return buildResult;\n}\nasync function generateInjectManifest(version, options, viteOptions) {\n  const { selfDestroying } = options;\n  if (selfDestroying) {\n    await generateServiceWorker(version, options, viteOptions);\n    return;\n  }\n  await import(\"./vite-build-BGK4YAIU.js\").then(({ buildSW }) => buildSW(version, options, viteOptions, loadWorkboxBuild()));\n}\n\n// src/api.ts\nasync function _generateSW({ options, version, viteConfig }) {\n  if (options.disable)\n    return;\n  if (options.strategies === \"injectManifest\")\n    await generateInjectManifest(version, options, viteConfig);\n  else\n    await generateServiceWorker(version, options, viteConfig);\n}\nfunction _generateBundle(ctx, bundle, pluginCtx) {\n  const { options, viteConfig, useImportRegister } = ctx;\n  if (options.disable || !bundle)\n    return;\n  if (options.manifest) {\n    if (!options.manifest.theme_color) {\n      console.warn([\n        \"\",\n        `${cyan(`PWA v${ctx.version}`)}`,\n        `${yellow('WARNING: \"theme_color\" is missing from the web manifest, your application will not be able to be installed')}`\n      ].join(\"\\n\"));\n    }\n    emitFile({\n      fileName: options.manifestFilename,\n      source: generateWebManifestFile(options)\n    }, bundle, pluginCtx);\n  }\n  if (options.injectRegister === \"auto\")\n    options.injectRegister = useImportRegister ? false : \"script\";\n  if ((options.injectRegister === \"script\" || options.injectRegister === \"script-defer\") && !existsSync(resolve2(viteConfig.publicDir, FILE_SW_REGISTER))) {\n    emitFile({\n      fileName: FILE_SW_REGISTER,\n      source: generateSimpleSWRegister(options, false)\n    }, bundle, pluginCtx);\n  }\n  return bundle;\n}\nfunction emitFile(asset, bundle, pluginCtx) {\n  if (pluginCtx) {\n    pluginCtx.emitFile({\n      type: \"asset\",\n      fileName: asset.fileName,\n      source: asset.source\n    });\n  } else {\n    bundle[asset.fileName] = {\n      // @ts-expect-error: for Vite 3 support, Vite 4 has removed `isAsset` property\n      isAsset: true,\n      type: \"asset\",\n      // vite 6 deprecation: replaced with names\n      name: void 0,\n      // fix vite 6 build with manifest enabled\n      names: [],\n      source: asset.source,\n      fileName: asset.fileName\n    };\n  }\n}\nfunction createAPI(ctx) {\n  return {\n    get disabled() {\n      return ctx?.options?.disable;\n    },\n    get pwaInDevEnvironment() {\n      return ctx?.devEnvironment === true;\n    },\n    webManifestData() {\n      const options = ctx?.options;\n      if (!options || options.disable || !options.manifest || ctx.devEnvironment && !ctx.options.devOptions.enabled)\n        return void 0;\n      let url = options.manifestFilename;\n      let manifest;\n      if (ctx.devEnvironment && ctx.options.devOptions.enabled === true) {\n        url = ctx.options.devOptions.webManifestUrl ?? options.manifestFilename;\n        manifest = generateWebManifest(options, true);\n      } else {\n        manifest = generateWebManifest(options, false);\n      }\n      return {\n        href: `${ctx.devEnvironment ? options.base : options.buildBase}${url}`,\n        useCredentials: ctx.options.useCredentials,\n        toLinkTag() {\n          return manifest;\n        }\n      };\n    },\n    registerSWData() {\n      const options = ctx?.options;\n      if (!options || options.disable || ctx.devEnvironment && !ctx.options.devOptions.enabled)\n        return void 0;\n      const mode = options.injectRegister;\n      if (!mode || ctx.useImportRegister)\n        return void 0;\n      let type = \"classic\";\n      let script;\n      let shouldRegisterSW = options.injectRegister === \"inline\" || options.injectRegister === \"script\" || options.injectRegister === \"script-defer\";\n      if (ctx.devEnvironment && ctx.options.devOptions.enabled === true) {\n        type = ctx.options.devOptions.type ?? \"classic\";\n        script = generateRegisterDevSW(ctx.options.base);\n        shouldRegisterSW = true;\n      } else if (shouldRegisterSW) {\n        script = generateRegisterSW(options, false);\n      }\n      const base = ctx.devEnvironment ? options.base : options.buildBase;\n      return {\n        // hint when required\n        shouldRegisterSW,\n        inline: options.injectRegister === \"inline\",\n        mode: mode === \"auto\" ? \"script\" : mode,\n        scope: options.scope,\n        inlinePath: `${base}${ctx.devEnvironment ? DEV_SW_NAME : options.filename}`,\n        registerPath: `${base}${FILE_SW_REGISTER}`,\n        type,\n        toScriptTag() {\n          return script;\n        }\n      };\n    },\n    generateBundle(bundle, pluginCtx) {\n      return _generateBundle(ctx, bundle, pluginCtx);\n    },\n    async generateSW() {\n      return await _generateSW(ctx);\n    },\n    extendManifestEntries(fn) {\n      const { options } = ctx;\n      if (options.disable)\n        return;\n      const configField = options.strategies === \"generateSW\" ? \"workbox\" : \"injectManifest\";\n      const result = fn(options[configField].additionalManifestEntries || []);\n      if (result != null)\n        options[configField].additionalManifestEntries = result;\n    },\n    pwaAssetsGenerator() {\n      return ctx.pwaAssetsGenerator;\n    }\n  };\n}\n\n// src/context.ts\nimport { readFileSync } from \"node:fs\";\nimport { dirname as dirname2, resolve as resolve3 } from \"node:path\";\nimport { fileURLToPath as fileURLToPath2 } from \"node:url\";\nfunction createContext(userOptions) {\n  const _dirname2 = typeof __dirname !== \"undefined\" ? __dirname : dirname2(fileURLToPath2(import.meta.url));\n  const { version } = JSON.parse(\n    readFileSync(resolve3(_dirname2, \"../package.json\"), \"utf-8\")\n  );\n  return {\n    version,\n    userOptions,\n    options: void 0,\n    viteConfig: void 0,\n    useImportRegister: false,\n    devEnvironment: false,\n    pwaAssetsGenerator: Promise.resolve(void 0)\n  };\n}\n\n// src/plugins/build.ts\nfunction BuildPlugin(ctx) {\n  const transformIndexHtmlHandler2 = (html) => {\n    const { options, useImportRegister } = ctx;\n    if (options.disable)\n      return html;\n    if (options.injectRegister === \"auto\")\n      options.injectRegister = useImportRegister ? null : \"script\";\n    return injectServiceWorker(html, options, false);\n  };\n  return {\n    name: \"vite-plugin-pwa:build\",\n    enforce: \"post\",\n    apply: \"build\",\n    transformIndexHtml: {\n      order: \"post\",\n      handler(html) {\n        return transformIndexHtmlHandler2(html);\n      },\n      enforce: \"post\",\n      // deprecated since Vite 4\n      transform(html) {\n        return transformIndexHtmlHandler2(html);\n      }\n    },\n    async generateBundle(_, bundle) {\n      const pwaAssetsGenerator = await ctx.pwaAssetsGenerator;\n      if (pwaAssetsGenerator)\n        pwaAssetsGenerator.injectManifestIcons();\n      return _generateBundle(ctx, bundle, this);\n    },\n    closeBundle: {\n      sequential: true,\n      order: ctx.userOptions?.integration?.closeBundleOrder,\n      async handler(error) {\n        if (error)\n          return;\n        if (!ctx.viteConfig.build.ssr) {\n          const pwaAssetsGenerator = await ctx.pwaAssetsGenerator;\n          if (pwaAssetsGenerator)\n            await pwaAssetsGenerator.generate();\n          if (!ctx.options.disable)\n            await _generateSW(ctx);\n        }\n      }\n    },\n    async buildEnd(error) {\n      if (error)\n        throw error;\n    }\n  };\n}\n\n// src/plugins/dev.ts\nimport { existsSync as existsSync2, promises as fs3, mkdirSync } from \"node:fs\";\nimport { basename, resolve as resolve4 } from \"node:path\";\n\n// node_modules/.pnpm/@rolldown+pluginutils@1.0.0-beta.31/node_modules/@rolldown/pluginutils/dist/index.js\nfunction exactRegex(str, flags) {\n  return new RegExp(`^${escapeRegex(str)}$`, flags);\n}\nfunction prefixRegex(str, flags) {\n  return new RegExp(`^${escapeRegex(str)}`, flags);\n}\nvar escapeRegexRE = /[-/\\\\^$*+?.()|[\\]{}]/g;\nfunction escapeRegex(str) {\n  return str.replace(escapeRegexRE, \"\\\\$&\");\n}\n\n// src/plugins/dev.ts\nvar swDevOptions = {\n  swUrl: DEV_SW_NAME,\n  swDevGenerated: false,\n  registerSWGenerated: false,\n  workboxPaths: /* @__PURE__ */ new Map()\n};\nfunction DevPlugin(ctx) {\n  const transformIndexHtmlHandler2 = (html) => {\n    const { options } = ctx;\n    if (options.disable || !options.devOptions.enabled)\n      return html;\n    html = injectServiceWorker(html, options, true);\n    return html.replace(\n      \"</body>\",\n      `${generateRegisterDevSW(options.base)}\n</body>`\n    );\n  };\n  const plugin = {\n    name: \"vite-plugin-pwa:dev-sw\",\n    apply: \"serve\",\n    options() {\n      const { options } = ctx;\n      if (!options.disable && options.devOptions.enabled) {\n        delete plugin.resolveId.filter;\n        delete plugin.load.filter;\n      }\n    },\n    transformIndexHtml: {\n      order: \"post\",\n      async handler(html) {\n        return transformIndexHtmlHandler2(html);\n      },\n      enforce: \"post\",\n      // deprecated since Vite 4\n      async transform(html) {\n        return transformIndexHtmlHandler2(html);\n      }\n    },\n    configureServer(server) {\n      ctx.devEnvironment = true;\n      const { options } = ctx;\n      if (!options.disable && options.devOptions.enabled) {\n        server.ws.on(DEV_READY_NAME, createWSResponseHandler(server, ctx));\n        if (options.manifest) {\n          const name = options.devOptions.webManifestUrl ?? `${options.base}${options.manifestFilename}`;\n          server.middlewares.use(async (req, res, next) => {\n            if (req.url === name) {\n              const pwaAssetsGenerator = await ctx.pwaAssetsGenerator;\n              pwaAssetsGenerator?.injectManifestIcons();\n              if (ctx.options.manifest && !ctx.options.manifest.theme_color) {\n                console.warn([\n                  \"\",\n                  `${cyan(`PWA v${ctx.version}`)}`,\n                  `${yellow('WARNING: \"theme_color\" is missing from the web manifest, your application will not be able to be installed')}`\n                ].join(\"\\n\"));\n              }\n              res.statusCode = 200;\n              res.setHeader(\"Content-Type\", \"application/manifest+json\");\n              res.write(generateWebManifestFile(options), \"utf-8\");\n              res.end();\n            } else {\n              next();\n            }\n          });\n        }\n      }\n    },\n    resolveId: {\n      // @ts-expect-error filter exists in Vite 6.3+\n      filter: { id: exactRegex(DEV_SW_VIRTUAL) },\n      // this is deleted if `!options.disable && options.devOptions.enabled` is true\n      handler(id) {\n        if (id === DEV_SW_VIRTUAL)\n          return RESOLVED_DEV_SW_VIRTUAL;\n        const { options } = ctx;\n        if (!options.disable && options.devOptions.enabled && options.strategies === \"injectManifest\" && !options.selfDestroying) {\n          let name = id.startsWith(options.base) ? id.slice(options.base.length) : id;\n          if (name.length && name[0] === \"/\")\n            name = name.slice(1);\n          return name === swDevOptions.swUrl || name === options.injectManifest.swSrc ? options.injectManifest.swSrc : void 0;\n        }\n        return void 0;\n      }\n    },\n    load: {\n      // @ts-expect-error filter exists in Vite 6.3+\n      filter: { id: exactRegex(RESOLVED_DEV_SW_VIRTUAL) },\n      // this is deleted if `!options.disable && options.devOptions.enabled` is true\n      async handler(id) {\n        if (id === RESOLVED_DEV_SW_VIRTUAL)\n          return generateSWHMR();\n        const { options, viteConfig } = ctx;\n        if (!options.disable && options.devOptions.enabled) {\n          if (options.strategies === \"injectManifest\" && !options.selfDestroying) {\n            const swSrc = normalizePath(options.injectManifest.swSrc);\n            if (id === swSrc) {\n              let content = await fs3.readFile(options.injectManifest.swSrc, \"utf-8\");\n              const resolvedIP = options.injectManifest.injectionPoint;\n              if (resolvedIP) {\n                const ip = new RegExp(resolvedIP, \"g\");\n                const navigateFallback = options.devOptions.navigateFallback;\n                if (navigateFallback)\n                  content = content.replace(ip, `[{ url: '${navigateFallback}' }]`);\n                else\n                  content = content.replace(ip, \"[]\");\n              }\n              return content;\n            }\n            if (swDevOptions.workboxPaths.has(id))\n              return await fs3.readFile(swDevOptions.workboxPaths.get(id), \"utf-8\");\n            return void 0;\n          }\n          if (id.endsWith(swDevOptions.swUrl)) {\n            const globDirectory = await resolveDevDistFolder(options, viteConfig);\n            if (!existsSync2(globDirectory))\n              mkdirSync(globDirectory, { recursive: true });\n            const swDest = resolve4(globDirectory, \"sw.js\");\n            if (!swDevOptions.swDevGenerated) {\n              let suppressWarnings;\n              if (options.devOptions.suppressWarnings === true) {\n                suppressWarnings = normalizePath(resolve4(globDirectory, \"suppress-warnings.js\"));\n                await fs3.writeFile(suppressWarnings, \"\", \"utf-8\");\n              }\n              const globPatterns = options.devOptions.suppressWarnings === true ? [\"suppress-warnings.js\"] : options.workbox.globPatterns;\n              const navigateFallback = options.workbox.navigateFallback;\n              const { filePaths } = await generateServiceWorker(\n                ctx.version,\n                Object.assign(\n                  {},\n                  options,\n                  {\n                    swDest: options.selfDestroying ? swDest : options.swDest,\n                    workbox: {\n                      ...options.workbox,\n                      navigateFallbackAllowlist: options.devOptions.navigateFallbackAllowlist ?? [/^\\/$/],\n                      runtimeCaching: options.devOptions.disableRuntimeConfig ? void 0 : options.workbox.runtimeCaching,\n                      // we only include navigateFallback: add revision to remove workbox-build warning\n                      additionalManifestEntries: navigateFallback ? [{\n                        url: navigateFallback,\n                        revision: Math.random().toString(32)\n                      }] : void 0,\n                      cleanupOutdatedCaches: true,\n                      globDirectory: normalizePath(globDirectory),\n                      globPatterns,\n                      swDest: normalizePath(swDest)\n                    }\n                  }\n                ),\n                viteConfig\n              );\n              filePaths.forEach((we) => {\n                const name = basename(we);\n                if (name !== \"sw.js\")\n                  swDevOptions.workboxPaths.set(normalizePath(`${options.base}${name}`), we);\n              });\n              if (suppressWarnings) {\n                swDevOptions.workboxPaths.set(\n                  normalizePath(`${options.base}${basename(suppressWarnings)}`),\n                  suppressWarnings\n                );\n              }\n              swDevOptions.swDevGenerated = true;\n            }\n            return await fs3.readFile(swDest, \"utf-8\");\n          }\n          if (id.startsWith(options.base)) {\n            const key = normalizePath(id);\n            if (swDevOptions.workboxPaths.has(key))\n              return await fs3.readFile(swDevOptions.workboxPaths.get(key), \"utf-8\");\n          } else if (options.base !== \"/\") {\n            const key = normalizePath(`${options.base}${id.length > 0 && id[0] === \"/\" ? id.slice(1) : id}`);\n            if (swDevOptions.workboxPaths.has(key))\n              return await fs3.readFile(swDevOptions.workboxPaths.get(key), \"utf-8\");\n          }\n        }\n      }\n    }\n  };\n  return plugin;\n}\nasync function resolveDevDistFolder(options, viteConfig) {\n  return options.devOptions.resolveTempFolder ? await options.devOptions.resolveTempFolder() : resolve4(viteConfig.root, \"dev-dist\");\n}\nasync function createDevRegisterSW(options, viteConfig) {\n  if (options.injectRegister === \"script\" || options.injectRegister === \"script-defer\") {\n    const devDist = await resolveDevDistFolder(options, viteConfig);\n    if (!existsSync2(devDist))\n      mkdirSync(devDist, { recursive: true });\n    const registerSW = resolve4(devDist, FILE_SW_REGISTER);\n    if (!swDevOptions.registerSWGenerated) {\n      await fs3.writeFile(registerSW, generateSimpleSWRegister(options, true), { encoding: \"utf8\" });\n      swDevOptions.registerSWGenerated = true;\n    }\n    swDevOptions.workboxPaths.set(normalizePath(`${options.base}${FILE_SW_REGISTER}`), registerSW);\n  }\n}\nfunction createWSResponseHandler(server, ctx) {\n  return async () => {\n    const { options, useImportRegister } = ctx;\n    const { injectRegister, scope, base } = options;\n    if (!useImportRegister && injectRegister) {\n      if (injectRegister === \"auto\")\n        options.injectRegister = \"script\";\n      await createDevRegisterSW(options, ctx.viteConfig);\n      server.ws.send({\n        type: \"custom\",\n        event: DEV_REGISTER_SW_NAME,\n        data: {\n          mode: options.injectRegister,\n          scope,\n          inlinePath: `${base}${DEV_SW_NAME}`,\n          registerPath: `${base}${FILE_SW_REGISTER}`,\n          swType: options.devOptions.type\n        }\n      });\n    }\n  };\n}\n\n// src/plugins/info.ts\nfunction InfoPlugin(ctx, api) {\n  return {\n    name: \"vite-plugin-pwa:info\",\n    enforce: \"post\",\n    resolveId: {\n      filter: { id: exactRegex(PWA_INFO_VIRTUAL) },\n      handler(id) {\n        if (id === PWA_INFO_VIRTUAL)\n          return RESOLVED_PWA_INFO_VIRTUAL;\n        return void 0;\n      }\n    },\n    load: {\n      filter: { id: exactRegex(RESOLVED_PWA_INFO_VIRTUAL) },\n      handler(id) {\n        if (id === RESOLVED_PWA_INFO_VIRTUAL)\n          return generatePwaInfo(ctx, api);\n      }\n    }\n  };\n}\nfunction generatePwaInfo(ctx, api) {\n  const webManifestData = api.webManifestData();\n  if (!webManifestData)\n    return \"export const pwaInfo = undefined;\";\n  const { href, useCredentials, toLinkTag } = webManifestData;\n  const registerSWData = api.registerSWData();\n  const entry = {\n    pwaInDevEnvironment: api.pwaInDevEnvironment,\n    webManifest: {\n      href,\n      useCredentials,\n      linkTag: toLinkTag()\n    }\n  };\n  if (registerSWData) {\n    const scriptTag = registerSWData.toScriptTag();\n    if (scriptTag) {\n      const { inline, mode, inlinePath, registerPath, type, scope } = registerSWData;\n      entry.registerSW = {\n        inline,\n        mode,\n        inlinePath,\n        registerPath,\n        type,\n        scope,\n        scriptTag\n      };\n    }\n  }\n  return `export const pwaInfo = ${JSON.stringify(entry)};`;\n}\n\n// src/options.ts\nimport fs4 from \"node:fs\";\nimport { extname, resolve as resolve5 } from \"node:path\";\nimport process from \"node:process\";\n\n// src/pwa-assets/options.ts\nfunction resolvePWAAssetsOptions(options) {\n  if (!options)\n    return false;\n  const {\n    disabled,\n    preset = \"minimal-2023\",\n    image = \"public/favicon.svg\",\n    htmlPreset = \"2023\",\n    overrideManifestIcons = false,\n    includeHtmlHeadLinks = true,\n    injectThemeColor = true,\n    integration\n  } = options ?? {};\n  const resolvedConfiguration = {\n    disabled: true,\n    config: false,\n    preset: false,\n    images: [image],\n    htmlPreset,\n    overrideManifestIcons,\n    includeHtmlHeadLinks,\n    injectThemeColor,\n    integration\n  };\n  if (disabled === true)\n    return resolvedConfiguration;\n  if (\"config\" in options && !!options.config) {\n    resolvedConfiguration.disabled = false;\n    resolvedConfiguration.config = options.config;\n    return resolvedConfiguration;\n  }\n  if (preset === false)\n    return resolvedConfiguration;\n  resolvedConfiguration.disabled = false;\n  resolvedConfiguration.preset = preset;\n  return resolvedConfiguration;\n}\n\n// src/options.ts\nfunction resolveSwPaths(injectManifest, root, srcDir, outDir, filename) {\n  const swSrc = resolve5(root, srcDir, filename);\n  if (injectManifest && extname(filename) === \".ts\" && fs4.existsSync(swSrc)) {\n    const useFilename = `${filename.substring(0, filename.lastIndexOf(\".\"))}.js`;\n    return {\n      swSrc,\n      swDest: resolve5(root, outDir, useFilename),\n      useFilename\n    };\n  }\n  return {\n    swSrc,\n    swDest: resolve5(root, outDir, filename)\n  };\n}\nasync function resolveOptions(ctx) {\n  const { userOptions: options, viteConfig } = ctx;\n  const root = viteConfig.root;\n  const pkg = fs4.existsSync(\"package.json\") ? JSON.parse(fs4.readFileSync(\"package.json\", \"utf-8\")) : {};\n  const {\n    // prevent tsup replacing `process.env`\n    // eslint-disable-next-line dot-notation\n    mode = process[\"env\"][\"NODE_ENV\"] || \"production\",\n    srcDir = \"public\",\n    outDir = viteConfig.build.outDir || \"dist\",\n    injectRegister = \"auto\",\n    registerType = \"prompt\",\n    filename = \"sw.js\",\n    manifestFilename = \"manifest.webmanifest\",\n    strategies = \"generateSW\",\n    minify = true,\n    base = viteConfig.base,\n    includeAssets = void 0,\n    includeManifestIcons = true,\n    useCredentials = false,\n    disable = false,\n    devOptions = { enabled: false, type: \"classic\", suppressWarnings: false },\n    selfDestroying = false,\n    integration = {},\n    buildBase,\n    pwaAssets,\n    showMaximumFileSizeToCacheInBytesWarning = false\n  } = options;\n  const basePath = resolveBasePath(base);\n  const { swSrc, swDest, useFilename } = resolveSwPaths(\n    strategies === \"injectManifest\",\n    root,\n    srcDir,\n    outDir,\n    filename\n  );\n  const outDirRoot = resolve5(root, outDir);\n  const scope = options.scope || basePath;\n  let assetsDir = slash(viteConfig.build.assetsDir ?? \"assets\");\n  if (assetsDir[assetsDir.length - 1] !== \"/\")\n    assetsDir += \"/\";\n  const dontCacheBustURLsMatching = new RegExp(`^${assetsDir.replace(/^\\.*\\//, \"\")}`);\n  const defaultWorkbox = {\n    swDest,\n    globDirectory: outDirRoot,\n    offlineGoogleAnalytics: false,\n    cleanupOutdatedCaches: true,\n    dontCacheBustURLsMatching,\n    mode,\n    navigateFallback: \"index.html\"\n  };\n  const defaultInjectManifest = {\n    swSrc,\n    swDest,\n    globDirectory: outDirRoot,\n    dontCacheBustURLsMatching,\n    injectionPoint: \"self.__WB_MANIFEST\"\n  };\n  const defaultManifest = {\n    name: pkg.name,\n    short_name: pkg.name,\n    description: pkg.description,\n    start_url: basePath,\n    display: \"standalone\",\n    background_color: \"#ffffff\",\n    theme_color: \"#42b883\",\n    lang: \"en\",\n    scope\n  };\n  const workbox = Object.assign({}, defaultWorkbox, options.workbox || {});\n  const manifest = typeof options.manifest === \"boolean\" && !options.manifest ? false : Object.assign({}, defaultManifest, options.manifest || {});\n  const {\n    vitePlugins = defaultInjectManifestVitePlugins,\n    plugins,\n    rollupOptions = {},\n    rollupFormat = \"es\",\n    target = viteConfig.build.target,\n    minify: minifySW = viteConfig.build.minify,\n    sourcemap = viteConfig.build.sourcemap,\n    enableWorkboxModulesLogs,\n    buildPlugins,\n    envOptions = {},\n    ...userInjectManifest\n  } = options.injectManifest || {};\n  const injectManifest = Object.assign({}, defaultInjectManifest, userInjectManifest);\n  if ((injectRegister === \"auto\" || injectRegister == null) && registerType === \"autoUpdate\") {\n    workbox.skipWaiting = true;\n    workbox.clientsClaim = true;\n  }\n  if (strategies === \"generateSW\" && workbox.sourcemap === void 0) {\n    const sourcemap2 = viteConfig.build?.sourcemap;\n    workbox.sourcemap = sourcemap2 === true || sourcemap2 === \"inline\" || sourcemap2 === \"hidden\";\n  }\n  if (devOptions.enabled && viteConfig.command === \"serve\") {\n    if (strategies === \"generateSW\")\n      devOptions.type = \"classic\";\n  } else {\n    devOptions.enabled = false;\n    devOptions.type = \"classic\";\n  }\n  if (manifest) {\n    if (manifest.icons) {\n      manifest.icons = manifest.icons.map((icon) => {\n        if (icon.purpose && Array.isArray(icon.purpose))\n          icon.purpose = icon.purpose.join(\" \");\n        return icon;\n      });\n    }\n    if (manifest.shortcuts) {\n      manifest.shortcuts.forEach((shortcut) => {\n        if (shortcut.icons) {\n          shortcut.icons = shortcut.icons.map((icon) => {\n            if (icon.purpose && Array.isArray(icon.purpose))\n              icon.purpose = icon.purpose.join(\" \");\n            return icon;\n          });\n        }\n      });\n    }\n    if (manifest.scope_extensions) {\n      manifest.scope_extensions = manifest.scope_extensions.map((scopeExtension) => {\n        return {\n          origin: scopeExtension.origin,\n          type: scopeExtension.type ?? \"origin\"\n        };\n      });\n    }\n  }\n  const {\n    envDir = viteConfig.envDir,\n    envPrefix = viteConfig.envPrefix\n  } = envOptions;\n  const resolvedVitePWAOptions = {\n    base: basePath,\n    mode,\n    swSrc,\n    swDest,\n    srcDir,\n    outDir,\n    injectRegister,\n    registerType,\n    filename: useFilename || filename,\n    manifestFilename,\n    strategies,\n    workbox,\n    manifest,\n    useCredentials,\n    injectManifest,\n    scope,\n    minify,\n    includeAssets,\n    includeManifestIcons,\n    disable,\n    integration,\n    devOptions,\n    rollupFormat,\n    vitePlugins,\n    buildPlugins,\n    selfDestroying,\n    buildBase: buildBase ?? basePath,\n    injectManifestRollupOptions: {\n      plugins,\n      rollupOptions,\n      format: rollupFormat\n    },\n    injectManifestBuildOptions: {\n      target,\n      minify: minifySW,\n      sourcemap,\n      enableWorkboxModulesLogs\n    },\n    injectManifestEnvOptions: {\n      envDir,\n      envPrefix\n    },\n    pwaAssets: resolvePWAAssetsOptions(pwaAssets),\n    throwMaximumFileSizeToCacheInBytes: !showMaximumFileSizeToCacheInBytesWarning\n  };\n  const calculateHash = !resolvedVitePWAOptions.disable && (resolvedVitePWAOptions.manifest || resolvedVitePWAOptions.includeAssets) && (viteConfig.command === \"build\" || resolvedVitePWAOptions.devOptions.enabled);\n  if (calculateHash)\n    await configureStaticAssets(resolvedVitePWAOptions, viteConfig);\n  return resolvedVitePWAOptions;\n}\n\n// src/plugins/main.ts\nfunction MainPlugin(ctx, api) {\n  return {\n    name: \"vite-plugin-pwa\",\n    enforce: \"pre\",\n    config() {\n      return {\n        ssr: {\n          // TODO: remove until workbox-window support native ESM\n          noExternal: [\"workbox-window\"]\n        }\n      };\n    },\n    async configResolved(config) {\n      ctx.useImportRegister = false;\n      ctx.viteConfig = config;\n      ctx.userOptions?.integration?.configureOptions?.(config, ctx.userOptions);\n      ctx.options = await resolveOptions(ctx);\n      if (ctx.options.pwaAssets && !ctx.options.pwaAssets.disabled) {\n        ctx.pwaAssetsGenerator = import(\"./generator-Q3R7VIEH.js\").then(({ loadInstructions }) => loadInstructions(ctx)).catch((e) => {\n          console.error([\n            \"\",\n            cyan(`PWA v${ctx.version}`),\n            yellow(\"WARNING: you must install the following dev dependencies to use the PWA assets generator:\"),\n            yellow('- \"@vite-pwa/assets-generator\"'),\n            yellow('- \"sharp\" (should be installed when installing @vite-pwa/assets-generator)'),\n            yellow('- \"sharp-ico\" (should be installed when installing @vite-pwa/assets-generator)')\n          ].join(\"\\n\"), e);\n          return Promise.resolve(void 0);\n        });\n      }\n    },\n    resolveId: {\n      filter: { id: prefixRegex(\"virtual:pwa-register\") },\n      handler(id) {\n        return VIRTUAL_MODULES.includes(id) ? VIRTUAL_MODULES_RESOLVE_PREFIX + id : void 0;\n      }\n    },\n    load: {\n      filter: { id: prefixRegex(VIRTUAL_MODULES_RESOLVE_PREFIX) },\n      handler(id) {\n        if (id.startsWith(VIRTUAL_MODULES_RESOLVE_PREFIX))\n          id = id.slice(VIRTUAL_MODULES_RESOLVE_PREFIX.length);\n        else\n          return;\n        if (VIRTUAL_MODULES.includes(id)) {\n          ctx.useImportRegister = true;\n          if (ctx.viteConfig.command === \"serve\" && ctx.options.devOptions.enabled) {\n            return generateRegisterSW2(\n              { ...ctx.options, filename: swDevOptions.swUrl },\n              \"build\",\n              VIRTUAL_MODULES_MAP[id]\n            );\n          } else {\n            return generateRegisterSW2(\n              ctx.options,\n              !ctx.options.disable && ctx.viteConfig.command === \"build\" ? \"build\" : \"dev\",\n              VIRTUAL_MODULES_MAP[id]\n            );\n          }\n        }\n      }\n    },\n    api\n  };\n}\n\n// src/plugins/pwa-assets.ts\nfunction AssetsPlugin(ctx) {\n  return {\n    name: \"vite-plugin-pwa:pwa-assets\",\n    enforce: \"post\",\n    transformIndexHtml: {\n      order: \"post\",\n      async handler(html) {\n        return await transformIndexHtmlHandler(html, ctx);\n      },\n      enforce: \"post\",\n      // deprecated since Vite 4\n      async transform(html) {\n        return await transformIndexHtmlHandler(html, ctx);\n      }\n    },\n    resolveId: {\n      filter: { id: [exactRegex(PWA_ASSETS_HEAD_VIRTUAL), exactRegex(PWA_ASSETS_ICONS_VIRTUAL)] },\n      handler(id) {\n        switch (true) {\n          case id === PWA_ASSETS_HEAD_VIRTUAL:\n            return RESOLVED_PWA_ASSETS_HEAD_VIRTUAL;\n          case id === PWA_ASSETS_ICONS_VIRTUAL:\n            return RESOLVED_PWA_ASSETS_ICONS_VIRTUAL;\n          default:\n            return void 0;\n        }\n      }\n    },\n    load: {\n      filter: { id: [exactRegex(RESOLVED_PWA_ASSETS_HEAD_VIRTUAL), exactRegex(RESOLVED_PWA_ASSETS_ICONS_VIRTUAL)] },\n      async handler(id) {\n        if (id === RESOLVED_PWA_ASSETS_HEAD_VIRTUAL) {\n          const pwaAssetsGenerator = await ctx.pwaAssetsGenerator;\n          const head = pwaAssetsGenerator?.resolveHtmlAssets() ?? { links: [], themeColor: void 0 };\n          return `export const pwaAssetsHead = ${JSON.stringify(head)}`;\n        }\n        if (id === RESOLVED_PWA_ASSETS_ICONS_VIRTUAL) {\n          const pwaAssetsGenerator = await ctx.pwaAssetsGenerator;\n          const icons = extractIcons(pwaAssetsGenerator?.instructions());\n          return `export const pwaAssetsIcons = ${JSON.stringify(icons)}`;\n        }\n      }\n    },\n    async handleHotUpdate({ file, server }) {\n      const pwaAssetsGenerator = await ctx.pwaAssetsGenerator;\n      if (await pwaAssetsGenerator?.checkHotUpdate(file)) {\n        const modules = [];\n        const head = server.moduleGraph.getModuleById(RESOLVED_PWA_ASSETS_HEAD_VIRTUAL);\n        head && modules.push(head);\n        const icons = server.moduleGraph.getModuleById(RESOLVED_PWA_ASSETS_ICONS_VIRTUAL);\n        icons && modules.push(icons);\n        if (modules)\n          return modules;\n        server.ws.send({ type: \"full-reload\" });\n        return [];\n      }\n    },\n    configureServer(server) {\n      server.ws.on(DEV_READY_NAME, createWSResponseHandler2(ctx, server));\n      server.middlewares.use(async (req, res, next) => {\n        const url = req.url;\n        if (!url)\n          return next();\n        if (!/\\.(?:ico|png|svg|webp)$/.test(url))\n          return next();\n        const pwaAssetsGenerator = await ctx.pwaAssetsGenerator;\n        if (!pwaAssetsGenerator)\n          return next();\n        const icon = await pwaAssetsGenerator.findIconAsset(url);\n        if (!icon)\n          return next();\n        if (icon.age > 0) {\n          const ifModifiedSince = req.headers[\"if-modified-since\"] ?? req.headers[\"If-Modified-Since\"];\n          const useIfModifiedSince = ifModifiedSince ? Array.isArray(ifModifiedSince) ? ifModifiedSince[0] : ifModifiedSince : void 0;\n          if (useIfModifiedSince && new Date(icon.lastModified).getTime() / 1e3 >= new Date(useIfModifiedSince).getTime() / 1e3) {\n            res.statusCode = 304;\n            res.end();\n            return;\n          }\n        }\n        const buffer = await icon.buffer;\n        res.setHeader(\"Age\", icon.age / 1e3);\n        res.setHeader(\"Content-Type\", icon.mimeType);\n        res.setHeader(\"Content-Length\", buffer.length);\n        res.setHeader(\"Last-Modified\", new Date(icon.lastModified).toUTCString());\n        res.statusCode = 200;\n        res.end(buffer);\n      });\n    }\n  };\n}\nasync function transformIndexHtmlHandler(html, ctx) {\n  if (ctx.devEnvironment && ctx.options.devOptions.enabled)\n    return html;\n  const pwaAssetsGenerator = await ctx.pwaAssetsGenerator;\n  if (!pwaAssetsGenerator)\n    return html;\n  return pwaAssetsGenerator.transformIndexHtml(html);\n}\nfunction createWSResponseHandler2(ctx, server) {\n  return async () => {\n    const pwaAssetsGenerator = await ctx.pwaAssetsGenerator;\n    if (pwaAssetsGenerator) {\n      const data = pwaAssetsGenerator.resolveHtmlAssets();\n      server.ws.send({\n        type: \"custom\",\n        event: DEV_PWA_ASSETS_NAME,\n        data\n      });\n    }\n  };\n}\n\n// src/cache.ts\nvar cachePreset = [\n  {\n    urlPattern: /^https:\\/\\/fonts\\.(?:googleapis|gstatic)\\.com\\/.*/i,\n    handler: \"CacheFirst\",\n    options: {\n      cacheName: \"google-fonts\",\n      expiration: {\n        maxEntries: 4,\n        maxAgeSeconds: 365 * 24 * 60 * 60\n        // 365 days\n      }\n    }\n  },\n  {\n    urlPattern: /\\.(?:eot|otf|ttc|ttf|woff|woff2|font.css)$/i,\n    handler: \"StaleWhileRevalidate\",\n    options: {\n      cacheName: \"static-font-assets\",\n      expiration: {\n        maxEntries: 4,\n        maxAgeSeconds: 7 * 24 * 60 * 60\n        // 7 days\n      }\n    }\n  },\n  {\n    urlPattern: /\\.(?:jpg|jpeg|gif|png|svg|ico|webp)$/i,\n    handler: \"StaleWhileRevalidate\",\n    options: {\n      cacheName: \"static-image-assets\",\n      expiration: {\n        maxEntries: 64,\n        maxAgeSeconds: 24 * 60 * 60\n        // 24 hours\n      }\n    }\n  },\n  {\n    urlPattern: /\\.js$/i,\n    handler: \"StaleWhileRevalidate\",\n    options: {\n      cacheName: \"static-js-assets\",\n      expiration: {\n        maxEntries: 32,\n        maxAgeSeconds: 24 * 60 * 60\n        // 24 hours\n      }\n    }\n  },\n  {\n    urlPattern: /\\.(?:css|less)$/i,\n    handler: \"StaleWhileRevalidate\",\n    options: {\n      cacheName: \"static-style-assets\",\n      expiration: {\n        maxEntries: 32,\n        maxAgeSeconds: 24 * 60 * 60\n        // 24 hours\n      }\n    }\n  },\n  {\n    urlPattern: /\\.(?:json|xml|csv)$/i,\n    handler: \"NetworkFirst\",\n    options: {\n      cacheName: \"static-data-assets\",\n      expiration: {\n        maxEntries: 32,\n        maxAgeSeconds: 24 * 60 * 60\n        // 24 hours\n      }\n    }\n  },\n  {\n    urlPattern: /\\/api\\/.*$/i,\n    handler: \"NetworkFirst\",\n    method: \"GET\",\n    options: {\n      cacheName: \"apis\",\n      expiration: {\n        maxEntries: 16,\n        maxAgeSeconds: 24 * 60 * 60\n        // 24 hours\n      },\n      networkTimeoutSeconds: 10\n      // fall back to cache if api does not response within 10 seconds\n    }\n  },\n  {\n    // eslint-disable-next-line regexp/no-useless-flag\n    urlPattern: /.*/i,\n    handler: \"NetworkFirst\",\n    options: {\n      cacheName: \"others\",\n      expiration: {\n        maxEntries: 32,\n        maxAgeSeconds: 24 * 60 * 60\n        // 24 hours\n      },\n      networkTimeoutSeconds: 10\n    }\n  }\n];\n\n// src/index.ts\nfunction VitePWA(userOptions = {}) {\n  const ctx = createContext(userOptions);\n  const api = createAPI(ctx);\n  return [\n    MainPlugin(ctx, api),\n    InfoPlugin(ctx, api),\n    BuildPlugin(ctx),\n    DevPlugin(ctx),\n    AssetsPlugin(ctx)\n  ];\n}\nexport {\n  VitePWA,\n  cachePreset,\n  defaultInjectManifestVitePlugins\n};\n", "import nativeFs from \"fs\";\nimport path, { posix } from \"path\";\nimport { fileURLToPath } from \"url\";\nimport { fdir } from \"fdir\";\nimport picomatch from \"picomatch\";\n\n//#region src/utils.ts\nconst isReadonlyArray = Array.isArray;\nconst isWin = process.platform === \"win32\";\nconst ONLY_PARENT_DIRECTORIES = /^(\\/?\\.\\.)+$/;\nfunction getPartialMatcher(patterns, options = {}) {\n\tconst patternsCount = patterns.length;\n\tconst patternsParts = Array(patternsCount);\n\tconst matchers = Array(patternsCount);\n\tconst globstarEnabled = !options.noglobstar;\n\tfor (let i = 0; i < patternsCount; i++) {\n\t\tconst parts = splitPattern(patterns[i]);\n\t\tpatternsParts[i] = parts;\n\t\tconst partsCount = parts.length;\n\t\tconst partMatchers = Array(partsCount);\n\t\tfor (let j = 0; j < partsCount; j++) partMatchers[j] = picomatch(parts[j], options);\n\t\tmatchers[i] = partMatchers;\n\t}\n\treturn (input) => {\n\t\tconst inputParts = input.split(\"/\");\n\t\tif (inputParts[0] === \"..\" && ONLY_PARENT_DIRECTORIES.test(input)) return true;\n\t\tfor (let i = 0; i < patterns.length; i++) {\n\t\t\tconst patternParts = patternsParts[i];\n\t\t\tconst matcher = matchers[i];\n\t\t\tconst inputPatternCount = inputParts.length;\n\t\t\tconst minParts = Math.min(inputPatternCount, patternParts.length);\n\t\t\tlet j = 0;\n\t\t\twhile (j < minParts) {\n\t\t\t\tconst part = patternParts[j];\n\t\t\t\tif (part.includes(\"/\")) return true;\n\t\t\t\tconst match = matcher[j](inputParts[j]);\n\t\t\t\tif (!match) break;\n\t\t\t\tif (globstarEnabled && part === \"**\") return true;\n\t\t\t\tj++;\n\t\t\t}\n\t\t\tif (j === inputPatternCount) return true;\n\t\t}\n\t\treturn false;\n\t};\n}\n/* node:coverage ignore next 2 */\nconst WIN32_ROOT_DIR = /^[A-Z]:\\/$/i;\nconst isRoot = isWin ? (p) => WIN32_ROOT_DIR.test(p) : (p) => p === \"/\";\nfunction buildFormat(cwd, root, absolute) {\n\tif (cwd === root || root.startsWith(`${cwd}/`)) {\n\t\tif (absolute) {\n\t\t\tconst start = isRoot(cwd) ? cwd.length : cwd.length + 1;\n\t\t\treturn (p, isDir) => p.slice(start, isDir ? -1 : void 0) || \".\";\n\t\t}\n\t\tconst prefix = root.slice(cwd.length + 1);\n\t\tif (prefix) return (p, isDir) => {\n\t\t\tif (p === \".\") return prefix;\n\t\t\tconst result = `${prefix}/${p}`;\n\t\t\treturn isDir ? result.slice(0, -1) : result;\n\t\t};\n\t\treturn (p, isDir) => isDir && p !== \".\" ? p.slice(0, -1) : p;\n\t}\n\tif (absolute) return (p) => posix.relative(cwd, p) || \".\";\n\treturn (p) => posix.relative(cwd, `${root}/${p}`) || \".\";\n}\nfunction buildRelative(cwd, root) {\n\tif (root.startsWith(`${cwd}/`)) {\n\t\tconst prefix = root.slice(cwd.length + 1);\n\t\treturn (p) => `${prefix}/${p}`;\n\t}\n\treturn (p) => {\n\t\tconst result = posix.relative(cwd, `${root}/${p}`);\n\t\tif (p.endsWith(\"/\") && result !== \"\") return `${result}/`;\n\t\treturn result || \".\";\n\t};\n}\nconst splitPatternOptions = { parts: true };\nfunction splitPattern(path$1) {\n\tvar _result$parts;\n\tconst result = picomatch.scan(path$1, splitPatternOptions);\n\treturn ((_result$parts = result.parts) === null || _result$parts === void 0 ? void 0 : _result$parts.length) ? result.parts : [path$1];\n}\nconst ESCAPED_WIN32_BACKSLASHES = /\\\\(?![()[\\]{}!+@])/g;\nfunction convertPosixPathToPattern(path$1) {\n\treturn escapePosixPath(path$1);\n}\nfunction convertWin32PathToPattern(path$1) {\n\treturn escapeWin32Path(path$1).replace(ESCAPED_WIN32_BACKSLASHES, \"/\");\n}\n/**\n* Converts a path to a pattern depending on the platform.\n* Identical to {@link escapePath} on POSIX systems.\n* @see {@link https://superchupu.dev/tinyglobby/documentation#convertPathToPattern}\n*/\n/* node:coverage ignore next 3 */\nconst convertPathToPattern = isWin ? convertWin32PathToPattern : convertPosixPathToPattern;\nconst POSIX_UNESCAPED_GLOB_SYMBOLS = /(?<!\\\\)([()[\\]{}*?|]|^!|[!+@](?=\\()|\\\\(?![()[\\]{}!*+?@|]))/g;\nconst WIN32_UNESCAPED_GLOB_SYMBOLS = /(?<!\\\\)([()[\\]{}]|^!|[!+@](?=\\())/g;\nconst escapePosixPath = (path$1) => path$1.replace(POSIX_UNESCAPED_GLOB_SYMBOLS, \"\\\\$&\");\nconst escapeWin32Path = (path$1) => path$1.replace(WIN32_UNESCAPED_GLOB_SYMBOLS, \"\\\\$&\");\n/**\n* Escapes a path's special characters depending on the platform.\n* @see {@link https://superchupu.dev/tinyglobby/documentation#escapePath}\n*/\n/* node:coverage ignore next */\nconst escapePath = isWin ? escapeWin32Path : escapePosixPath;\n/**\n* Checks if a pattern has dynamic parts.\n*\n* Has a few minor differences with [`fast-glob`](https://github.com/mrmlnc/fast-glob) for better accuracy:\n*\n* - Doesn't necessarily return `false` on patterns that include `\\`.\n* - Returns `true` if the pattern includes parentheses, regardless of them representing one single pattern or not.\n* - Returns `true` for unfinished glob extensions i.e. `(h`, `+(h`.\n* - Returns `true` for unfinished brace expansions as long as they include `,` or `..`.\n*\n* @see {@link https://superchupu.dev/tinyglobby/documentation#isDynamicPattern}\n*/\nfunction isDynamicPattern(pattern, options) {\n\tif ((options === null || options === void 0 ? void 0 : options.caseSensitiveMatch) === false) return true;\n\tconst scan = picomatch.scan(pattern);\n\treturn scan.isGlob || scan.negated;\n}\nfunction log(...tasks) {\n\tconsole.log(`[tinyglobby ${(/* @__PURE__ */ new Date()).toLocaleTimeString(\"es\")}]`, ...tasks);\n}\n\n//#endregion\n//#region src/index.ts\nconst PARENT_DIRECTORY = /^(\\/?\\.\\.)+/;\nconst ESCAPING_BACKSLASHES = /\\\\(?=[()[\\]{}!*+?@|])/g;\nconst BACKSLASHES = /\\\\/g;\nfunction normalizePattern(pattern, expandDirectories, cwd, props, isIgnore) {\n\tlet result = pattern;\n\tif (pattern.endsWith(\"/\")) result = pattern.slice(0, -1);\n\tif (!result.endsWith(\"*\") && expandDirectories) result += \"/**\";\n\tconst escapedCwd = escapePath(cwd);\n\tif (path.isAbsolute(result.replace(ESCAPING_BACKSLASHES, \"\"))) result = posix.relative(escapedCwd, result);\n\telse result = posix.normalize(result);\n\tconst parentDirectoryMatch = PARENT_DIRECTORY.exec(result);\n\tconst parts = splitPattern(result);\n\tif (parentDirectoryMatch === null || parentDirectoryMatch === void 0 ? void 0 : parentDirectoryMatch[0]) {\n\t\tconst n = (parentDirectoryMatch[0].length + 1) / 3;\n\t\tlet i = 0;\n\t\tconst cwdParts = escapedCwd.split(\"/\");\n\t\twhile (i < n && parts[i + n] === cwdParts[cwdParts.length + i - n]) {\n\t\t\tresult = result.slice(0, (n - i - 1) * 3) + result.slice((n - i) * 3 + parts[i + n].length + 1) || \".\";\n\t\t\ti++;\n\t\t}\n\t\tconst potentialRoot = posix.join(cwd, parentDirectoryMatch[0].slice(i * 3));\n\t\tif (!potentialRoot.startsWith(\".\") && props.root.length > potentialRoot.length) {\n\t\t\tprops.root = potentialRoot;\n\t\t\tprops.depthOffset = -n + i;\n\t\t}\n\t}\n\tif (!isIgnore && props.depthOffset >= 0) {\n\t\tvar _props$commonPath;\n\t\t(_props$commonPath = props.commonPath) !== null && _props$commonPath !== void 0 || (props.commonPath = parts);\n\t\tconst newCommonPath = [];\n\t\tconst length = Math.min(props.commonPath.length, parts.length);\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tconst part = parts[i];\n\t\t\tif (part === \"**\" && !parts[i + 1]) {\n\t\t\t\tnewCommonPath.pop();\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (part !== props.commonPath[i] || isDynamicPattern(part) || i === parts.length - 1) break;\n\t\t\tnewCommonPath.push(part);\n\t\t}\n\t\tprops.depthOffset = newCommonPath.length;\n\t\tprops.commonPath = newCommonPath;\n\t\tprops.root = newCommonPath.length > 0 ? posix.join(cwd, ...newCommonPath) : cwd;\n\t}\n\treturn result;\n}\nfunction processPatterns({ patterns = [\"**/*\"], ignore = [], expandDirectories = true }, cwd, props) {\n\tif (typeof patterns === \"string\") patterns = [patterns];\n\tif (typeof ignore === \"string\") ignore = [ignore];\n\tconst matchPatterns = [];\n\tconst ignorePatterns = [];\n\tfor (const pattern of ignore) {\n\t\tif (!pattern) continue;\n\t\tif (pattern[0] !== \"!\" || pattern[1] === \"(\") ignorePatterns.push(normalizePattern(pattern, expandDirectories, cwd, props, true));\n\t}\n\tfor (const pattern of patterns) {\n\t\tif (!pattern) continue;\n\t\tif (pattern[0] !== \"!\" || pattern[1] === \"(\") matchPatterns.push(normalizePattern(pattern, expandDirectories, cwd, props, false));\n\t\telse if (pattern[1] !== \"!\" || pattern[2] === \"(\") ignorePatterns.push(normalizePattern(pattern.slice(1), expandDirectories, cwd, props, true));\n\t}\n\treturn {\n\t\tmatch: matchPatterns,\n\t\tignore: ignorePatterns\n\t};\n}\nfunction formatPaths(paths, relative) {\n\tfor (let i = paths.length - 1; i >= 0; i--) {\n\t\tconst path$1 = paths[i];\n\t\tpaths[i] = relative(path$1);\n\t}\n\treturn paths;\n}\nfunction normalizeCwd(cwd) {\n\tif (!cwd) return process.cwd().replace(BACKSLASHES, \"/\");\n\tif (cwd instanceof URL) return fileURLToPath(cwd).replace(BACKSLASHES, \"/\");\n\treturn path.resolve(cwd).replace(BACKSLASHES, \"/\");\n}\nfunction getCrawler(patterns, inputOptions = {}) {\n\tconst options = process.env.TINYGLOBBY_DEBUG ? {\n\t\t...inputOptions,\n\t\tdebug: true\n\t} : inputOptions;\n\tconst cwd = normalizeCwd(options.cwd);\n\tif (options.debug) log(\"globbing with:\", {\n\t\tpatterns,\n\t\toptions,\n\t\tcwd\n\t});\n\tif (Array.isArray(patterns) && patterns.length === 0) return [{\n\t\tsync: () => [],\n\t\twithPromise: async () => []\n\t}, false];\n\tconst props = {\n\t\troot: cwd,\n\t\tcommonPath: null,\n\t\tdepthOffset: 0\n\t};\n\tconst processed = processPatterns({\n\t\t...options,\n\t\tpatterns\n\t}, cwd, props);\n\tif (options.debug) log(\"internal processing patterns:\", processed);\n\tconst matchOptions = {\n\t\tdot: options.dot,\n\t\tnobrace: options.braceExpansion === false,\n\t\tnocase: options.caseSensitiveMatch === false,\n\t\tnoextglob: options.extglob === false,\n\t\tnoglobstar: options.globstar === false,\n\t\tposix: true\n\t};\n\tconst matcher = picomatch(processed.match, {\n\t\t...matchOptions,\n\t\tignore: processed.ignore\n\t});\n\tconst ignore = picomatch(processed.ignore, matchOptions);\n\tconst partialMatcher = getPartialMatcher(processed.match, matchOptions);\n\tconst format = buildFormat(cwd, props.root, options.absolute);\n\tconst formatExclude = options.absolute ? format : buildFormat(cwd, props.root, true);\n\tconst fdirOptions = {\n\t\tfilters: [options.debug ? (p, isDirectory) => {\n\t\t\tconst path$1 = format(p, isDirectory);\n\t\t\tconst matches = matcher(path$1);\n\t\t\tif (matches) log(`matched ${path$1}`);\n\t\t\treturn matches;\n\t\t} : (p, isDirectory) => matcher(format(p, isDirectory))],\n\t\texclude: options.debug ? (_, p) => {\n\t\t\tconst relativePath = formatExclude(p, true);\n\t\t\tconst skipped = relativePath !== \".\" && !partialMatcher(relativePath) || ignore(relativePath);\n\t\t\tif (skipped) log(`skipped ${p}`);\n\t\t\telse log(`crawling ${p}`);\n\t\t\treturn skipped;\n\t\t} : (_, p) => {\n\t\t\tconst relativePath = formatExclude(p, true);\n\t\t\treturn relativePath !== \".\" && !partialMatcher(relativePath) || ignore(relativePath);\n\t\t},\n\t\tfs: options.fs ? {\n\t\t\treaddir: options.fs.readdir || nativeFs.readdir,\n\t\t\treaddirSync: options.fs.readdirSync || nativeFs.readdirSync,\n\t\t\trealpath: options.fs.realpath || nativeFs.realpath,\n\t\t\trealpathSync: options.fs.realpathSync || nativeFs.realpathSync,\n\t\t\tstat: options.fs.stat || nativeFs.stat,\n\t\t\tstatSync: options.fs.statSync || nativeFs.statSync\n\t\t} : void 0,\n\t\tpathSeparator: \"/\",\n\t\trelativePaths: true,\n\t\tresolveSymlinks: true,\n\t\tsignal: options.signal\n\t};\n\tif (options.deep !== void 0) fdirOptions.maxDepth = Math.round(options.deep - props.depthOffset);\n\tif (options.absolute) {\n\t\tfdirOptions.relativePaths = false;\n\t\tfdirOptions.resolvePaths = true;\n\t\tfdirOptions.includeBasePath = true;\n\t}\n\tif (options.followSymbolicLinks === false) {\n\t\tfdirOptions.resolveSymlinks = false;\n\t\tfdirOptions.excludeSymlinks = true;\n\t}\n\tif (options.onlyDirectories) {\n\t\tfdirOptions.excludeFiles = true;\n\t\tfdirOptions.includeDirs = true;\n\t} else if (options.onlyFiles === false) fdirOptions.includeDirs = true;\n\tprops.root = props.root.replace(BACKSLASHES, \"\");\n\tconst root = props.root;\n\tif (options.debug) log(\"internal properties:\", props);\n\tconst relative = cwd !== root && !options.absolute && buildRelative(cwd, props.root);\n\treturn [new fdir(fdirOptions).crawl(root), relative];\n}\nasync function glob(patternsOrOptions, options) {\n\tif (patternsOrOptions && (options === null || options === void 0 ? void 0 : options.patterns)) throw new Error(\"Cannot pass patterns as both an argument and an option\");\n\tconst isModern = isReadonlyArray(patternsOrOptions) || typeof patternsOrOptions === \"string\";\n\tconst opts = isModern ? options : patternsOrOptions;\n\tconst patterns = isModern ? patternsOrOptions : patternsOrOptions.patterns;\n\tconst [crawler, relative] = getCrawler(patterns, opts);\n\tif (!relative) return crawler.withPromise();\n\treturn formatPaths(await crawler.withPromise(), relative);\n}\nfunction globSync(patternsOrOptions, options) {\n\tif (patternsOrOptions && (options === null || options === void 0 ? void 0 : options.patterns)) throw new Error(\"Cannot pass patterns as both an argument and an option\");\n\tconst isModern = isReadonlyArray(patternsOrOptions) || typeof patternsOrOptions === \"string\";\n\tconst opts = isModern ? options : patternsOrOptions;\n\tconst patterns = isModern ? patternsOrOptions : patternsOrOptions.patterns;\n\tconst [crawler, relative] = getCrawler(patterns, opts);\n\tif (!relative) return crawler.sync();\n\treturn formatPaths(crawler.sync(), relative);\n}\n\n//#endregion\nexport { convertPathToPattern, escapePath, glob, globSync, isDynamicPattern };", "import { createRequire } from \"module\";\nimport { basename, dirname, normalize, relative, resolve, sep } from \"path\";\nimport * as nativeFs from \"fs\";\n\n//#region rolldown:runtime\nvar __require = /* @__PURE__ */ createRequire(import.meta.url);\n\n//#endregion\n//#region src/utils.ts\nfunction cleanPath(path) {\n\tlet normalized = normalize(path);\n\tif (normalized.length > 1 && normalized[normalized.length - 1] === sep) normalized = normalized.substring(0, normalized.length - 1);\n\treturn normalized;\n}\nconst SLASHES_REGEX = /[\\\\/]/g;\nfunction convertSlashes(path, separator) {\n\treturn path.replace(SLASHES_REGEX, separator);\n}\nconst WINDOWS_ROOT_DIR_REGEX = /^[a-z]:[\\\\/]$/i;\nfunction isRootDirectory(path) {\n\treturn path === \"/\" || WINDOWS_ROOT_DIR_REGEX.test(path);\n}\nfunction normalizePath(path, options) {\n\tconst { resolvePaths, normalizePath: normalizePath$1, pathSeparator } = options;\n\tconst pathNeedsCleaning = process.platform === \"win32\" && path.includes(\"/\") || path.startsWith(\".\");\n\tif (resolvePaths) path = resolve(path);\n\tif (normalizePath$1 || pathNeedsCleaning) path = cleanPath(path);\n\tif (path === \".\") return \"\";\n\tconst needsSeperator = path[path.length - 1] !== pathSeparator;\n\treturn convertSlashes(needsSeperator ? path + pathSeparator : path, pathSeparator);\n}\n\n//#endregion\n//#region src/api/functions/join-path.ts\nfunction joinPathWithBasePath(filename, directoryPath) {\n\treturn directoryPath + filename;\n}\nfunction joinPathWithRelativePath(root, options) {\n\treturn function(filename, directoryPath) {\n\t\tconst sameRoot = directoryPath.startsWith(root);\n\t\tif (sameRoot) return directoryPath.slice(root.length) + filename;\n\t\telse return convertSlashes(relative(root, directoryPath), options.pathSeparator) + options.pathSeparator + filename;\n\t};\n}\nfunction joinPath(filename) {\n\treturn filename;\n}\nfunction joinDirectoryPath(filename, directoryPath, separator) {\n\treturn directoryPath + filename + separator;\n}\nfunction build$7(root, options) {\n\tconst { relativePaths, includeBasePath } = options;\n\treturn relativePaths && root ? joinPathWithRelativePath(root, options) : includeBasePath ? joinPathWithBasePath : joinPath;\n}\n\n//#endregion\n//#region src/api/functions/push-directory.ts\nfunction pushDirectoryWithRelativePath(root) {\n\treturn function(directoryPath, paths) {\n\t\tpaths.push(directoryPath.substring(root.length) || \".\");\n\t};\n}\nfunction pushDirectoryFilterWithRelativePath(root) {\n\treturn function(directoryPath, paths, filters) {\n\t\tconst relativePath = directoryPath.substring(root.length) || \".\";\n\t\tif (filters.every((filter) => filter(relativePath, true))) paths.push(relativePath);\n\t};\n}\nconst pushDirectory = (directoryPath, paths) => {\n\tpaths.push(directoryPath || \".\");\n};\nconst pushDirectoryFilter = (directoryPath, paths, filters) => {\n\tconst path = directoryPath || \".\";\n\tif (filters.every((filter) => filter(path, true))) paths.push(path);\n};\nconst empty$2 = () => {};\nfunction build$6(root, options) {\n\tconst { includeDirs, filters, relativePaths } = options;\n\tif (!includeDirs) return empty$2;\n\tif (relativePaths) return filters && filters.length ? pushDirectoryFilterWithRelativePath(root) : pushDirectoryWithRelativePath(root);\n\treturn filters && filters.length ? pushDirectoryFilter : pushDirectory;\n}\n\n//#endregion\n//#region src/api/functions/push-file.ts\nconst pushFileFilterAndCount = (filename, _paths, counts, filters) => {\n\tif (filters.every((filter) => filter(filename, false))) counts.files++;\n};\nconst pushFileFilter = (filename, paths, _counts, filters) => {\n\tif (filters.every((filter) => filter(filename, false))) paths.push(filename);\n};\nconst pushFileCount = (_filename, _paths, counts, _filters) => {\n\tcounts.files++;\n};\nconst pushFile = (filename, paths) => {\n\tpaths.push(filename);\n};\nconst empty$1 = () => {};\nfunction build$5(options) {\n\tconst { excludeFiles, filters, onlyCounts } = options;\n\tif (excludeFiles) return empty$1;\n\tif (filters && filters.length) return onlyCounts ? pushFileFilterAndCount : pushFileFilter;\n\telse if (onlyCounts) return pushFileCount;\n\telse return pushFile;\n}\n\n//#endregion\n//#region src/api/functions/get-array.ts\nconst getArray = (paths) => {\n\treturn paths;\n};\nconst getArrayGroup = () => {\n\treturn [\"\"].slice(0, 0);\n};\nfunction build$4(options) {\n\treturn options.group ? getArrayGroup : getArray;\n}\n\n//#endregion\n//#region src/api/functions/group-files.ts\nconst groupFiles = (groups, directory, files) => {\n\tgroups.push({\n\t\tdirectory,\n\t\tfiles,\n\t\tdir: directory\n\t});\n};\nconst empty = () => {};\nfunction build$3(options) {\n\treturn options.group ? groupFiles : empty;\n}\n\n//#endregion\n//#region src/api/functions/resolve-symlink.ts\nconst resolveSymlinksAsync = function(path, state, callback$1) {\n\tconst { queue, fs, options: { suppressErrors } } = state;\n\tqueue.enqueue();\n\tfs.realpath(path, (error, resolvedPath) => {\n\t\tif (error) return queue.dequeue(suppressErrors ? null : error, state);\n\t\tfs.stat(resolvedPath, (error$1, stat) => {\n\t\t\tif (error$1) return queue.dequeue(suppressErrors ? null : error$1, state);\n\t\t\tif (stat.isDirectory() && isRecursive(path, resolvedPath, state)) return queue.dequeue(null, state);\n\t\t\tcallback$1(stat, resolvedPath);\n\t\t\tqueue.dequeue(null, state);\n\t\t});\n\t});\n};\nconst resolveSymlinks = function(path, state, callback$1) {\n\tconst { queue, fs, options: { suppressErrors } } = state;\n\tqueue.enqueue();\n\ttry {\n\t\tconst resolvedPath = fs.realpathSync(path);\n\t\tconst stat = fs.statSync(resolvedPath);\n\t\tif (stat.isDirectory() && isRecursive(path, resolvedPath, state)) return;\n\t\tcallback$1(stat, resolvedPath);\n\t} catch (e) {\n\t\tif (!suppressErrors) throw e;\n\t}\n};\nfunction build$2(options, isSynchronous) {\n\tif (!options.resolveSymlinks || options.excludeSymlinks) return null;\n\treturn isSynchronous ? resolveSymlinks : resolveSymlinksAsync;\n}\nfunction isRecursive(path, resolved, state) {\n\tif (state.options.useRealPaths) return isRecursiveUsingRealPaths(resolved, state);\n\tlet parent = dirname(path);\n\tlet depth = 1;\n\twhile (parent !== state.root && depth < 2) {\n\t\tconst resolvedPath = state.symlinks.get(parent);\n\t\tconst isSameRoot = !!resolvedPath && (resolvedPath === resolved || resolvedPath.startsWith(resolved) || resolved.startsWith(resolvedPath));\n\t\tif (isSameRoot) depth++;\n\t\telse parent = dirname(parent);\n\t}\n\tstate.symlinks.set(path, resolved);\n\treturn depth > 1;\n}\nfunction isRecursiveUsingRealPaths(resolved, state) {\n\treturn state.visited.includes(resolved + state.options.pathSeparator);\n}\n\n//#endregion\n//#region src/api/functions/invoke-callback.ts\nconst onlyCountsSync = (state) => {\n\treturn state.counts;\n};\nconst groupsSync = (state) => {\n\treturn state.groups;\n};\nconst defaultSync = (state) => {\n\treturn state.paths;\n};\nconst limitFilesSync = (state) => {\n\treturn state.paths.slice(0, state.options.maxFiles);\n};\nconst onlyCountsAsync = (state, error, callback$1) => {\n\treport(error, callback$1, state.counts, state.options.suppressErrors);\n\treturn null;\n};\nconst defaultAsync = (state, error, callback$1) => {\n\treport(error, callback$1, state.paths, state.options.suppressErrors);\n\treturn null;\n};\nconst limitFilesAsync = (state, error, callback$1) => {\n\treport(error, callback$1, state.paths.slice(0, state.options.maxFiles), state.options.suppressErrors);\n\treturn null;\n};\nconst groupsAsync = (state, error, callback$1) => {\n\treport(error, callback$1, state.groups, state.options.suppressErrors);\n\treturn null;\n};\nfunction report(error, callback$1, output, suppressErrors) {\n\tif (error && !suppressErrors) callback$1(error, output);\n\telse callback$1(null, output);\n}\nfunction build$1(options, isSynchronous) {\n\tconst { onlyCounts, group, maxFiles } = options;\n\tif (onlyCounts) return isSynchronous ? onlyCountsSync : onlyCountsAsync;\n\telse if (group) return isSynchronous ? groupsSync : groupsAsync;\n\telse if (maxFiles) return isSynchronous ? limitFilesSync : limitFilesAsync;\n\telse return isSynchronous ? defaultSync : defaultAsync;\n}\n\n//#endregion\n//#region src/api/functions/walk-directory.ts\nconst readdirOpts = { withFileTypes: true };\nconst walkAsync = (state, crawlPath, directoryPath, currentDepth, callback$1) => {\n\tstate.queue.enqueue();\n\tif (currentDepth < 0) return state.queue.dequeue(null, state);\n\tconst { fs } = state;\n\tstate.visited.push(crawlPath);\n\tstate.counts.directories++;\n\tfs.readdir(crawlPath || \".\", readdirOpts, (error, entries = []) => {\n\t\tcallback$1(entries, directoryPath, currentDepth);\n\t\tstate.queue.dequeue(state.options.suppressErrors ? null : error, state);\n\t});\n};\nconst walkSync = (state, crawlPath, directoryPath, currentDepth, callback$1) => {\n\tconst { fs } = state;\n\tif (currentDepth < 0) return;\n\tstate.visited.push(crawlPath);\n\tstate.counts.directories++;\n\tlet entries = [];\n\ttry {\n\t\tentries = fs.readdirSync(crawlPath || \".\", readdirOpts);\n\t} catch (e) {\n\t\tif (!state.options.suppressErrors) throw e;\n\t}\n\tcallback$1(entries, directoryPath, currentDepth);\n};\nfunction build(isSynchronous) {\n\treturn isSynchronous ? walkSync : walkAsync;\n}\n\n//#endregion\n//#region src/api/queue.ts\n/**\n* This is a custom stateless queue to track concurrent async fs calls.\n* It increments a counter whenever a call is queued and decrements it\n* as soon as it completes. When the counter hits 0, it calls onQueueEmpty.\n*/\nvar Queue = class {\n\tcount = 0;\n\tconstructor(onQueueEmpty) {\n\t\tthis.onQueueEmpty = onQueueEmpty;\n\t}\n\tenqueue() {\n\t\tthis.count++;\n\t\treturn this.count;\n\t}\n\tdequeue(error, output) {\n\t\tif (this.onQueueEmpty && (--this.count <= 0 || error)) {\n\t\t\tthis.onQueueEmpty(error, output);\n\t\t\tif (error) {\n\t\t\t\toutput.controller.abort();\n\t\t\t\tthis.onQueueEmpty = void 0;\n\t\t\t}\n\t\t}\n\t}\n};\n\n//#endregion\n//#region src/api/counter.ts\nvar Counter = class {\n\t_files = 0;\n\t_directories = 0;\n\tset files(num) {\n\t\tthis._files = num;\n\t}\n\tget files() {\n\t\treturn this._files;\n\t}\n\tset directories(num) {\n\t\tthis._directories = num;\n\t}\n\tget directories() {\n\t\treturn this._directories;\n\t}\n\t/**\n\t* @deprecated use `directories` instead\n\t*/\n\t/* c8 ignore next 3 */\n\tget dirs() {\n\t\treturn this._directories;\n\t}\n};\n\n//#endregion\n//#region src/api/aborter.ts\n/**\n* AbortController is not supported on Node 14 so we use this until we can drop\n* support for Node 14.\n*/\nvar Aborter = class {\n\taborted = false;\n\tabort() {\n\t\tthis.aborted = true;\n\t}\n};\n\n//#endregion\n//#region src/api/walker.ts\nvar Walker = class {\n\troot;\n\tisSynchronous;\n\tstate;\n\tjoinPath;\n\tpushDirectory;\n\tpushFile;\n\tgetArray;\n\tgroupFiles;\n\tresolveSymlink;\n\twalkDirectory;\n\tcallbackInvoker;\n\tconstructor(root, options, callback$1) {\n\t\tthis.isSynchronous = !callback$1;\n\t\tthis.callbackInvoker = build$1(options, this.isSynchronous);\n\t\tthis.root = normalizePath(root, options);\n\t\tthis.state = {\n\t\t\troot: isRootDirectory(this.root) ? this.root : this.root.slice(0, -1),\n\t\t\tpaths: [\"\"].slice(0, 0),\n\t\t\tgroups: [],\n\t\t\tcounts: new Counter(),\n\t\t\toptions,\n\t\t\tqueue: new Queue((error, state) => this.callbackInvoker(state, error, callback$1)),\n\t\t\tsymlinks: /* @__PURE__ */ new Map(),\n\t\t\tvisited: [\"\"].slice(0, 0),\n\t\t\tcontroller: new Aborter(),\n\t\t\tfs: options.fs || nativeFs\n\t\t};\n\t\tthis.joinPath = build$7(this.root, options);\n\t\tthis.pushDirectory = build$6(this.root, options);\n\t\tthis.pushFile = build$5(options);\n\t\tthis.getArray = build$4(options);\n\t\tthis.groupFiles = build$3(options);\n\t\tthis.resolveSymlink = build$2(options, this.isSynchronous);\n\t\tthis.walkDirectory = build(this.isSynchronous);\n\t}\n\tstart() {\n\t\tthis.pushDirectory(this.root, this.state.paths, this.state.options.filters);\n\t\tthis.walkDirectory(this.state, this.root, this.root, this.state.options.maxDepth, this.walk);\n\t\treturn this.isSynchronous ? this.callbackInvoker(this.state, null) : null;\n\t}\n\twalk = (entries, directoryPath, depth) => {\n\t\tconst { paths, options: { filters, resolveSymlinks: resolveSymlinks$1, excludeSymlinks, exclude, maxFiles, signal, useRealPaths, pathSeparator }, controller } = this.state;\n\t\tif (controller.aborted || signal && signal.aborted || maxFiles && paths.length > maxFiles) return;\n\t\tconst files = this.getArray(this.state.paths);\n\t\tfor (let i = 0; i < entries.length; ++i) {\n\t\t\tconst entry = entries[i];\n\t\t\tif (entry.isFile() || entry.isSymbolicLink() && !resolveSymlinks$1 && !excludeSymlinks) {\n\t\t\t\tconst filename = this.joinPath(entry.name, directoryPath);\n\t\t\t\tthis.pushFile(filename, files, this.state.counts, filters);\n\t\t\t} else if (entry.isDirectory()) {\n\t\t\t\tlet path = joinDirectoryPath(entry.name, directoryPath, this.state.options.pathSeparator);\n\t\t\t\tif (exclude && exclude(entry.name, path)) continue;\n\t\t\t\tthis.pushDirectory(path, paths, filters);\n\t\t\t\tthis.walkDirectory(this.state, path, path, depth - 1, this.walk);\n\t\t\t} else if (this.resolveSymlink && entry.isSymbolicLink()) {\n\t\t\t\tlet path = joinPathWithBasePath(entry.name, directoryPath);\n\t\t\t\tthis.resolveSymlink(path, this.state, (stat, resolvedPath) => {\n\t\t\t\t\tif (stat.isDirectory()) {\n\t\t\t\t\t\tresolvedPath = normalizePath(resolvedPath, this.state.options);\n\t\t\t\t\t\tif (exclude && exclude(entry.name, useRealPaths ? resolvedPath : path + pathSeparator)) return;\n\t\t\t\t\t\tthis.walkDirectory(this.state, resolvedPath, useRealPaths ? resolvedPath : path + pathSeparator, depth - 1, this.walk);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolvedPath = useRealPaths ? resolvedPath : path;\n\t\t\t\t\t\tconst filename = basename(resolvedPath);\n\t\t\t\t\t\tconst directoryPath$1 = normalizePath(dirname(resolvedPath), this.state.options);\n\t\t\t\t\t\tresolvedPath = this.joinPath(filename, directoryPath$1);\n\t\t\t\t\t\tthis.pushFile(resolvedPath, files, this.state.counts, filters);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tthis.groupFiles(this.state.groups, directoryPath, files);\n\t};\n};\n\n//#endregion\n//#region src/api/async.ts\nfunction promise(root, options) {\n\treturn new Promise((resolve$1, reject) => {\n\t\tcallback(root, options, (err, output) => {\n\t\t\tif (err) return reject(err);\n\t\t\tresolve$1(output);\n\t\t});\n\t});\n}\nfunction callback(root, options, callback$1) {\n\tlet walker = new Walker(root, options, callback$1);\n\twalker.start();\n}\n\n//#endregion\n//#region src/api/sync.ts\nfunction sync(root, options) {\n\tconst walker = new Walker(root, options);\n\treturn walker.start();\n}\n\n//#endregion\n//#region src/builder/api-builder.ts\nvar APIBuilder = class {\n\tconstructor(root, options) {\n\t\tthis.root = root;\n\t\tthis.options = options;\n\t}\n\twithPromise() {\n\t\treturn promise(this.root, this.options);\n\t}\n\twithCallback(cb) {\n\t\tcallback(this.root, this.options, cb);\n\t}\n\tsync() {\n\t\treturn sync(this.root, this.options);\n\t}\n};\n\n//#endregion\n//#region src/builder/index.ts\nlet pm = null;\n/* c8 ignore next 6 */\ntry {\n\t__require.resolve(\"picomatch\");\n\tpm = __require(\"picomatch\");\n} catch {}\nvar Builder = class {\n\tglobCache = {};\n\toptions = {\n\t\tmaxDepth: Infinity,\n\t\tsuppressErrors: true,\n\t\tpathSeparator: sep,\n\t\tfilters: []\n\t};\n\tglobFunction;\n\tconstructor(options) {\n\t\tthis.options = {\n\t\t\t...this.options,\n\t\t\t...options\n\t\t};\n\t\tthis.globFunction = this.options.globFunction;\n\t}\n\tgroup() {\n\t\tthis.options.group = true;\n\t\treturn this;\n\t}\n\twithPathSeparator(separator) {\n\t\tthis.options.pathSeparator = separator;\n\t\treturn this;\n\t}\n\twithBasePath() {\n\t\tthis.options.includeBasePath = true;\n\t\treturn this;\n\t}\n\twithRelativePaths() {\n\t\tthis.options.relativePaths = true;\n\t\treturn this;\n\t}\n\twithDirs() {\n\t\tthis.options.includeDirs = true;\n\t\treturn this;\n\t}\n\twithMaxDepth(depth) {\n\t\tthis.options.maxDepth = depth;\n\t\treturn this;\n\t}\n\twithMaxFiles(limit) {\n\t\tthis.options.maxFiles = limit;\n\t\treturn this;\n\t}\n\twithFullPaths() {\n\t\tthis.options.resolvePaths = true;\n\t\tthis.options.includeBasePath = true;\n\t\treturn this;\n\t}\n\twithErrors() {\n\t\tthis.options.suppressErrors = false;\n\t\treturn this;\n\t}\n\twithSymlinks({ resolvePaths = true } = {}) {\n\t\tthis.options.resolveSymlinks = true;\n\t\tthis.options.useRealPaths = resolvePaths;\n\t\treturn this.withFullPaths();\n\t}\n\twithAbortSignal(signal) {\n\t\tthis.options.signal = signal;\n\t\treturn this;\n\t}\n\tnormalize() {\n\t\tthis.options.normalizePath = true;\n\t\treturn this;\n\t}\n\tfilter(predicate) {\n\t\tthis.options.filters.push(predicate);\n\t\treturn this;\n\t}\n\tonlyDirs() {\n\t\tthis.options.excludeFiles = true;\n\t\tthis.options.includeDirs = true;\n\t\treturn this;\n\t}\n\texclude(predicate) {\n\t\tthis.options.exclude = predicate;\n\t\treturn this;\n\t}\n\tonlyCounts() {\n\t\tthis.options.onlyCounts = true;\n\t\treturn this;\n\t}\n\tcrawl(root) {\n\t\treturn new APIBuilder(root || \".\", this.options);\n\t}\n\twithGlobFunction(fn) {\n\t\tthis.globFunction = fn;\n\t\treturn this;\n\t}\n\t/**\n\t* @deprecated Pass options using the constructor instead:\n\t* ```ts\n\t* new fdir(options).crawl(\"/path/to/root\");\n\t* ```\n\t* This method will be removed in v7.0\n\t*/\n\t/* c8 ignore next 4 */\n\tcrawlWithOptions(root, options) {\n\t\tthis.options = {\n\t\t\t...this.options,\n\t\t\t...options\n\t\t};\n\t\treturn new APIBuilder(root || \".\", this.options);\n\t}\n\tglob(...patterns) {\n\t\tif (this.globFunction) return this.globWithOptions(patterns);\n\t\treturn this.globWithOptions(patterns, ...[{ dot: true }]);\n\t}\n\tglobWithOptions(patterns, ...options) {\n\t\tconst globFn = this.globFunction || pm;\n\t\t/* c8 ignore next 5 */\n\t\tif (!globFn) throw new Error(\"Please specify a glob function to use glob matching.\");\n\t\tvar isMatch = this.globCache[patterns.join(\"\\0\")];\n\t\tif (!isMatch) {\n\t\t\tisMatch = globFn(patterns, ...options);\n\t\t\tthis.globCache[patterns.join(\"\\0\")] = isMatch;\n\t\t}\n\t\tthis.options.filters.push((path) => isMatch(path));\n\t\treturn this;\n\t}\n};\n\n//#endregion\nexport { Builder as fdir };"],
  "mappings": "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",
  "names": ["import_node_fs", "import_node_path", "import_path", "path", "normalizePath", "fs", "picomatch", "picomatch", "path", "relative", "nativeFs", "import_node_fs", "import_node_path", "import_node_url", "crypto", "fs", "resolveFs", "path", "fs2", "resolve2", "dirname2", "fileURLToPath2", "resolve3", "fs3", "existsSync2", "resolve4", "resolve5", "fs4", "process"]
}
